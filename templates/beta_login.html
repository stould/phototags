<!DOCTYPE html>
<html>
  <head>	
	<title>Facebook Login JavaScript Example</title>
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 
	<style> 
	html,body{
	padding:0;
	margin:0;
	}
	</style>
  </head>
  <body>
	<script>
	 // This is called with the results from from FB.getLoginStatus()
	function statusChangeCallback(response) {
	   console.log('statusChangeCallback');
	   console.log(response);

	   if (response.status === 'connected') {
		 process(response);
	   } else if (response.status === 'not_authorized') {
		   putLoginPage();
	   } else {
			putLoginPage();
	   }
	 }

	 function process(response) {
		putPhotoPage();
	 }
	 
	 // This function is called when someone finishes with the Login
	 // Button.  See the onlogin handler attached to it in the sample
	 // code below
	 function checkLoginState() {
       FB.getLoginStatus(function(response) {
		 statusChangeCallback(response);
       });
	 }
	 
	 window.fbAsyncInit = function() {
	   FB.init({
		 appId      : '466465463517234',
		 cookie     : true,  // enable cookies to allow the server to access 
         // the session
		 xfbml      : true,  // parse social plugins on this page
		 version    : 'v2.3' // use version 2.3
	   });
	   
	   // Now that we've initialized the JavaScript SDK, we call 
	   // FB.getLoginStatus().  This function gets the state of the
	   // person visiting this page and can return one of three states to
	   // the callback you provide.  They can be:
			   //
	   // 1. Logged into your app ('connected')
	   // 2. Logged into Facebook, but not your app ('not_authorized')
	   // 3. Not logged into Facebook and can't tell if they are logged into
	   //    your app or not.
			   //
	   // These three cases are handled in the callback function
	   
	   FB.getLoginStatus(function(response) {
		 statusChangeCallback(response);
	   });	   
	 };
	 
	 // Load the SDK asynchronously
	 (function(d, s, id) {
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) return;
       js = d.createElement(s); js.id = id;
       js.src = "//connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
	 }(document, 'script', 'facebook-jssdk'));

	 function putLoginPage(){
	 	$('body').append('	<fb:login-button scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button><div id="status"></div>');
	 }

	 function putPhotoPage(){
	 	 	//$('#content_page').append('<img class="_359 img" src="https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif" alt="" id="u_0_2w" height="32" width="32">');
			$('body').append('<div id="content_page" style="padding-top:15px; padding-left:5px;"></div>');
			$('#content_page').append('	<input id="search_tool1" style="width:360px; margin-left:5px; margin-right:10px;" type="text" placeholder=" Procure pessoas, coisas e locais "/><span id="img_search1"><img src="http://www.japantimes.co.jp/wp-content/themes/jt_theme/library/img/search.png" style=" margin-left:15px; width:12px; height:12px;"/>');
		$('#content_page').append('<div style="clear:both; margin-bottom:10px;"></div>');
			 for(var i=0;i<4;i++){
				for(var j=0;j<4;j++){    
				  $("#content_page").append('<div class="we_pic" style="float:left;"><img src="imgteste.png" style="float:left; margin-left:4px; margin-top:4px; border:thin solid #bebfbf"/></div>');
				}
			 }
	 }
	 
	</script>
	
	<!--
	Below we include the Login Button social plugin. This button uses
	the JavaScript SDK to present a graphical Login button that triggers
	the FB.login() function when clicked.
	-->
	
		
  </body>
</html>
